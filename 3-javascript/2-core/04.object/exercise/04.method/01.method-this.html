<html>

<body>
  <script>
    // 컨텍스트(content, 문맥) : 실행 범위
    // 자바스크립트에서 this는 런타임(실행시점의 컨텍스트)에 결정됩니다.
    // 메서드가 어디서 정의되었는지에 상관없이
    // this는 '점 앞의' 객체가 무엇인가에 따라 '자유롭게'결정됩니다.

    function makeUser() {
      return {
        name: "John",
        ref: this
      };
    };

    let user = makeUser();

    // suer.ref는 window 객체(js 최상위 객체)이고
    // makerUser는 window 객체에 함수로 생성된 것임

    // 따라서 makeUser() -> window.makeUser()
    // 함수 실행 컨텍스트 window

    alert(user.ref.name); // 결과가 어떻게 될까요?
    // 에러가 납니다
    // this값은 런타임에 따라 달라집니다
    // 위의 함수에서 ref : this의 값은 참조하는 객체가 없으므로 undefined상태가 됩니다.
  </script>
</body>

</html>